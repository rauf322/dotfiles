#!/usr/bin/env bash
set -euo pipefail
DIR="${1:-$(tmux display -p -F "#{pane_current_path}")}"

if command -v code >/dev/null 2>&1; then
  # reuse an existing VS Code window
  exec code --reuse-window -- "$DIR"
else
  echo "code CLI not found on PATH (VS Code → Command Palette → “Shell Command: Install 'code' command in PATH”)." >&2
  exit 127
fi

